---
import { Icon } from "astro-icon/components";
import profileIcon from "../assets/profile_icon.jpg";
import SocialIcons from "./SocialIcons";
import ProfileBio from "./ProfileBio.astro";
import KeywordsSection from "./KeywordsSection.astro";

// Define bio entries
const bioEntries = [
  "静岡県浜松市出身。",
  "浜松北高卒業後、東京大学文科II類に入学。",
  "アルバイト先の経験からITに興味を持ち、理転し工学部電子情報工学科に進学。",
  "株式会社Stroboでエンジニアインターン。",
  "大学卒業後、日本マイクロソフト株式会社に入社。"
];

// Define keywords
const keywords = [
  { icon: "mdi:school", text: "教育" },
  { icon: "mdi:lightning-bolt", text: "効率化" },
  { icon: "mdi:music", text: "音" }
];
---
<section class="w-full py-32" id="profile">
  <div class="max-w-4xl mx-auto px-6">
    <h2 class="text-2xl font-extralight text-text/80 mb-16">Profile</h2>

    <div class="bg-gradient-to-br from-white/30 to-background/90 rounded-xl overflow-hidden backdrop-blur-[2px] border border-white/15 shadow-sm transition-all hover:shadow-md hover:border-white/25">
      <div class="md:flex">
        <div class="md:w-1/3 p-10 flex flex-col items-center justify-center bg-gradient-to-b from-white/20 to-transparent">
          <div class="relative">
            <img
              src={profileIcon.src}
              alt="Profile icon"
              class="w-36 h-36 rounded-full object-cover border-2 border-accent/10 shadow-md"
            />
            <div class="absolute inset-0 rounded-full border-2 border-accent/5 transform scale-110 animate-pulse"></div>
          </div>

          <div class="mt-8 text-center">
            <h3 class="text-2xl font-light text-accent mb-1">大村 瞬也</h3>
            <p class="text-text/40 mb-6 font-extralight tracking-wide">OHMURA Tokiya</p>

            <SocialIcons client:load />
          </div>
        </div>

        <div class="md:w-2/3 p-10 md:p-12 flex flex-col">
          <div class="prose max-w-none flex-grow">
            {bioEntries.map((entry) => (
              <ProfileBio text={entry} />
            ))}
          </div>

          <div class="mt-4 pt-4 border-t border-accent/5">
            <KeywordsSection keywords={keywords} />
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  @keyframes pulse {
    0%, 100% {
      opacity: 0.2;
    }
    50% {
      opacity: 0.5;
    }
  }

  .animate-pulse {
    animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
</style>
